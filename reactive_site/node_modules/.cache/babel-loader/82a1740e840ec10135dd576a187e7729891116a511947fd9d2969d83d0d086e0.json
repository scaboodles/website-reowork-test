{"ast":null,"code":"import { getNumFromPx } from \"./helpers\";\nexport function clickAndDrag(element, win) {\n  dragElement(element, win);\n}\nexport function suspendDrag(elmnt) {\n  if (document.getElementById(elmnt.id + \"Head\")) {\n    // if present, the header is where you move the DIV from:\n    document.getElementById(elmnt.id + \"Head\").removeEventListener(\"onmousedown\");\n  } else {\n    //error can happen if element is missing a head or an id\n    document.removeEventListener(\"onmousemove\");\n  }\n}\nfunction dragElement(elmnt, win) {\n  var x1 = 0,\n    x2 = 0,\n    y1 = 0,\n    y2 = 0;\n  let outOfBoundsX = 0;\n  let outOfBoundsY = 0;\n  let width = 0;\n  let height = 0;\n  let windowSpan = 0;\n  let leftGrace = 0;\n  let rightGrace = 0;\n  if (win) {\n    width = win.offsetWidth;\n    height = win.offsetHeight;\n  }\n  let maxY = window.innerHeight;\n  let maxX = window.innerWidth;\n  if (document.getElementById(elmnt.id + \"Head\")) {\n    // if present, the header is where you move the DIV from:\n    document.getElementById(elmnt.id + \"Head\").onmousedown = dragMouseDown;\n  } else {\n    //error can happen if element is missing a head or an id\n    elmnt.onmousedown = dragMouseDown;\n  }\n  function dragMouseDown(e) {\n    e = e || window.event; //if e is unassigned, it is assigned to window.event\n    e.preventDefault(); //only execute specifically handled events\n\n    // get the mouse cursor position at startup:\n    x2 = e.clientX;\n    y2 = e.clientY;\n    outOfBoundsX = elmnt.offsetLeft;\n    outOfBoundsY = elmnt.offsetTop;\n    maxX = window.innerHeight;\n    maxX = window.innerWidth;\n    if (win) {\n      width = win.offsetWidth;\n      height = win.offsetHeight;\n    }\n    document.onmouseup = closeDragElement; //stop dragging on mouse up\n    document.onmousemove = elementDrag; // call a function whenever the cursor moves:\n  }\n\n  function elementDrag(e) {\n    e = e || window.event; //if e is unassigned, it is assigned to window.event\n    e.preventDefault();\n\n    //recalculate cursor position\n\n    x1 = x2 - e.clientX;\n    y1 = y2 - e.clientY;\n    let dx = -x1;\n    outOfBoundsX -= x1;\n    outOfBoundsY -= y1;\n    console.log(outOfBoundsX);\n    x2 = e.clientX;\n    y2 = e.clientY;\n\n    // set the element's new position:\n    if (dx < 0) {\n      if (outOfBoundsX >= 0 && outOfBoundsX < maxX - width) {\n        elmnt.style.left = elmnt.offsetLeft - x1 + \"px\";\n      }\n    } else if (dx > 0) {\n      if (outOfBoundsX < maxX - width && outOfBoundsX >= 0) {\n        elmnt.style.left = elmnt.offsetLeft - x1 + \"px\";\n      }\n    }\n    if (outOfBoundsY >= 0 && outOfBoundsY < maxY - height) {\n      elmnt.style.top = elmnt.offsetTop - y1 + \"px\";\n    }\n  }\n  function closeDragElement(e) {\n    // stop moving when mouse button is released by removing document mouse events\n    document.onmouseup = null;\n    document.onmousemove = null;\n    outOfBoundsX = 0;\n    outOfBoundsY = 0;\n  }\n}","map":{"version":3,"names":["getNumFromPx","clickAndDrag","element","win","dragElement","suspendDrag","elmnt","document","getElementById","id","removeEventListener","x1","x2","y1","y2","outOfBoundsX","outOfBoundsY","width","height","windowSpan","leftGrace","rightGrace","offsetWidth","offsetHeight","maxY","window","innerHeight","maxX","innerWidth","onmousedown","dragMouseDown","e","event","preventDefault","clientX","clientY","offsetLeft","offsetTop","onmouseup","closeDragElement","onmousemove","elementDrag","dx","console","log","style","left","top"],"sources":["/Users/owen/dev/sitemk2test/reactive_site/src/draggableDiv.js"],"sourcesContent":["import { getNumFromPx } from \"./helpers\";\n\nexport function clickAndDrag(element, win){\n    dragElement(element, win);\n}\n\nexport function suspendDrag(elmnt){\n    if (document.getElementById(elmnt.id + \"Head\")) {\n        // if present, the header is where you move the DIV from:\n        document.getElementById(elmnt.id + \"Head\").removeEventListener(\"onmousedown\");\n    } else {\n        //error can happen if element is missing a head or an id\n        document.removeEventListener(\"onmousemove\");\n    }\n}\n\nfunction dragElement(elmnt, win){\n    var x1 = 0, x2 = 0, y1 = 0, y2 = 0;\n\n    let outOfBoundsX = 0;\n    let outOfBoundsY = 0;\n\n    let width = 0;\n    let height = 0;\n\n    let windowSpan = 0;\n\n    let leftGrace = 0;\n    let rightGrace = 0;\n\n    if(win){\n        width = win.offsetWidth;\n        height = win.offsetHeight;\n    }\n\n    let maxY =  window.innerHeight;\n    let maxX = window.innerWidth;\n\n    if (document.getElementById(elmnt.id + \"Head\")) {\n        // if present, the header is where you move the DIV from:\n        document.getElementById(elmnt.id + \"Head\").onmousedown = dragMouseDown;\n    } else {\n        //error can happen if element is missing a head or an id\n        elmnt.onmousedown = dragMouseDown;\n    }\n\n    function dragMouseDown(e){\n        e = e || window.event; //if e is unassigned, it is assigned to window.event\n        e.preventDefault(); //only execute specifically handled events\n\n        // get the mouse cursor position at startup:\n        x2 = e.clientX;\n        y2 = e.clientY;\n\n        outOfBoundsX = elmnt.offsetLeft;\n        outOfBoundsY = elmnt.offsetTop;\n\n        maxX = window.innerHeight;\n        maxX = window.innerWidth;\n\n        if(win){\n            width = win.offsetWidth;\n            height = win.offsetHeight;\n        }\n\n\n        document.onmouseup = closeDragElement; //stop dragging on mouse up\n        document.onmousemove = elementDrag; // call a function whenever the cursor moves:\n    }\n\n    function elementDrag(e){\n        e = e || window.event; //if e is unassigned, it is assigned to window.event\n        e.preventDefault();\n\n        //recalculate cursor position\n\n        x1 = x2 - e.clientX;\n        y1 = y2 - e.clientY;\n\n        let dx = -x1;\n\n        outOfBoundsX -= x1;\n        outOfBoundsY -= y1;\n\n        console.log(outOfBoundsX);\n\n        x2 = e.clientX;\n        y2 = e.clientY;\n\n        // set the element's new position:\n        if(dx<0){\n            if(outOfBoundsX >= 0 && outOfBoundsX < maxX - width){\n                elmnt.style.left = (elmnt.offsetLeft - x1) + \"px\";\n            }\n        }else if(dx>0){\n            if(outOfBoundsX < maxX - width && outOfBoundsX >= 0){\n                elmnt.style.left = (elmnt.offsetLeft - x1) + \"px\";\n            }\n        }\n        if(outOfBoundsY >= 0 && outOfBoundsY < maxY - height){\n            elmnt.style.top = (elmnt.offsetTop - y1) + \"px\";\n        }\n    }\n\n    function closeDragElement(e) {\n        // stop moving when mouse button is released by removing document mouse events\n        document.onmouseup = null;\n        document.onmousemove = null;\n        \n        outOfBoundsX = 0;\n        outOfBoundsY = 0;\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}