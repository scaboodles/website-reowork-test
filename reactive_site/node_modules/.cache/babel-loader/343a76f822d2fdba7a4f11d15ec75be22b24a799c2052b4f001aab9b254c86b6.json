{"ast":null,"code":"import { getNumFromPx } from \"./helpers\";\nexport function clickAndDrag(element, window) {\n  dragElement(element, win);\n}\nexport function suspendDrag(elmnt) {\n  if (document.getElementById(elmnt.id + \"Head\")) {\n    // if present, the header is where you move the DIV from:\n    document.getElementById(elmnt.id + \"Head\").removeEventListener(\"onmousedown\");\n  } else {\n    //error can happen if element is missing a head or an id\n    document.removeEventListener(\"onmousemove\");\n  }\n}\nfunction dragElement(elmnt, win) {\n  var x1 = 0,\n    x2 = 0,\n    y1 = 0,\n    y2 = 0;\n  const maxY = window.innerHeight;\n  const maxX = window.innerWidth;\n  if (document.getElementById(elmnt.id + \"Head\")) {\n    // if present, the header is where you move the DIV from:\n    document.getElementById(elmnt.id + \"Head\").onmousedown = dragMouseDown;\n  } else {\n    //error can happen if element is missing a head or an id\n    elmnt.onmousedown = dragMouseDown;\n  }\n  function dragMouseDown(e) {\n    e = e || window.event; //if e is unassigned, it is assigned to window.event\n    e.preventDefault(); //only execute specifically handled events\n\n    // get the mouse cursor position at startup:\n    x2 = e.clientX;\n    y2 = e.clientY;\n    document.onmouseup = closeDragElement; //stop dragging on mouse up\n    document.onmousemove = elementDrag; // call a function whenever the cursor moves:\n  }\n\n  function elementDrag(e) {\n    e = e || window.event; //if e is unassigned, it is assigned to window.event\n    e.preventDefault();\n    let width = elmnt.offsetWidth;\n    let height = elmnt.style.height;\n\n    //recalculate cursor position\n\n    x1 = x2 - e.clientX;\n    y1 = y2 - e.clientY;\n    if (elmnt.offsetLeft - x1 < 0) {\n      x1 = elmnt.offsetLeft;\n    } else if (elmnt.offsetLeft - x1 + width > maxX) {\n      console.log(\"too far\");\n    }\n    console.log(`${width}`);\n    if (elmnt.offsetTop - y1 < 0) {\n      y1 = elmnt.offsetTop;\n    }\n    x2 = e.clientX;\n    y2 = e.clientY;\n\n    // set the element's new position:\n    elmnt.style.top = elmnt.offsetTop - y1 + \"px\";\n    elmnt.style.left = elmnt.offsetLeft - x1 + \"px\";\n    elmnt.classList.add(\"moving\");\n  }\n  function closeDragElement(e) {\n    // stop moving when mouse button is released by removing document mouse events\n    document.onmouseup = null;\n    document.onmousemove = null;\n    elmnt.classList.remove(\"moving\");\n  }\n}","map":{"version":3,"names":["getNumFromPx","clickAndDrag","element","window","dragElement","win","suspendDrag","elmnt","document","getElementById","id","removeEventListener","x1","x2","y1","y2","maxY","innerHeight","maxX","innerWidth","onmousedown","dragMouseDown","e","event","preventDefault","clientX","clientY","onmouseup","closeDragElement","onmousemove","elementDrag","width","offsetWidth","height","style","offsetLeft","console","log","offsetTop","top","left","classList","add","remove"],"sources":["/Users/owen/dev/sitemk2test/reactive_site/src/draggableDiv.js"],"sourcesContent":["import { getNumFromPx } from \"./helpers\";\n\nexport function clickAndDrag(element, window){\n    dragElement(element, win);\n}\n\nexport function suspendDrag(elmnt){\n    if (document.getElementById(elmnt.id + \"Head\")) {\n        // if present, the header is where you move the DIV from:\n        document.getElementById(elmnt.id + \"Head\").removeEventListener(\"onmousedown\");\n    } else {\n        //error can happen if element is missing a head or an id\n        document.removeEventListener(\"onmousemove\");\n    }\n}\n\nfunction dragElement(elmnt, win){\n    var x1 = 0, x2 = 0, y1 = 0, y2 = 0;\n    const maxY = window.innerHeight;\n    const maxX = window.innerWidth;\n\n    if (document.getElementById(elmnt.id + \"Head\")) {\n        // if present, the header is where you move the DIV from:\n        document.getElementById(elmnt.id + \"Head\").onmousedown = dragMouseDown;\n    } else {\n        //error can happen if element is missing a head or an id\n        elmnt.onmousedown = dragMouseDown;\n    }\n\n    function dragMouseDown(e){\n        e = e || window.event; //if e is unassigned, it is assigned to window.event\n        e.preventDefault(); //only execute specifically handled events\n\n        // get the mouse cursor position at startup:\n        x2 = e.clientX;\n        y2 = e.clientY;\n\n        document.onmouseup = closeDragElement; //stop dragging on mouse up\n        document.onmousemove = elementDrag; // call a function whenever the cursor moves:\n    }\n\n    function elementDrag(e){\n        e = e || window.event; //if e is unassigned, it is assigned to window.event\n        e.preventDefault();\n\n        let width = elmnt.offsetWidth;\n        let height = elmnt.style.height;\n\n        //recalculate cursor position\n\n        x1 = x2 - e.clientX;\n        y1 = y2 - e.clientY;\n\n        if(elmnt.offsetLeft - x1 < 0){\n            x1 = elmnt.offsetLeft;\n        }else if(elmnt.offsetLeft - x1 + width > maxX){\n            console.log(\"too far\");\n        }\n\n        console.log(`${width}`);\n\n        if(elmnt.offsetTop - y1 < 0){\n            y1 = elmnt.offsetTop;\n        }\n\n        x2 = e.clientX;\n        y2 = e.clientY;\n\n        // set the element's new position:\n        elmnt.style.top = (elmnt.offsetTop - y1) + \"px\";\n        elmnt.style.left = (elmnt.offsetLeft - x1) + \"px\";\n\n        elmnt.classList.add(\"moving\");\n    }\n\n    function closeDragElement(e) {\n        // stop moving when mouse button is released by removing document mouse events\n        document.onmouseup = null;\n        document.onmousemove = null;\n\n        elmnt.classList.remove(\"moving\")\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}